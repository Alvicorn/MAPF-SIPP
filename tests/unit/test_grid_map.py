import pytest


def test_compute_heuristics(grid_map):
    expected_result = {
        (0, 0): 8,
        (0, 1): 7,
        (0, 3): 5,
        (0, 4): 4,
        (0, 5): 5,
        (0, 6): 6,
        (0, 7): 7,
        (1, 0): 7,
        (1, 1): 6,
        (1, 2): 7,
        (1, 4): 3,
        (1, 5): 4,
        (1, 6): 5,
        (1, 7): 6,
        (2, 0): 6,
        (2, 1): 5,
        (2, 3): 3,
        (2, 4): 2,
        (2, 5): 3,
        (2, 6): 4,
        (2, 7): 5,
        (3, 0): 5,
        (3, 1): 4,
        (3, 2): 3,
        (3, 3): 2,
        (3, 4): 1,
        (3, 5): 2,
        (3, 6): 3,
        (3, 7): 4,
        (4, 0): 4,
        (4, 1): 3,
        (4, 2): 2,
        (4, 3): 1,
        (4, 4): 0,
        (4, 5): 1,
        (4, 6): 2,
        (5, 0): 5,
        (5, 1): 4,
        (5, 2): 3,
        (5, 3): 2,
        (5, 4): 1,
        (5, 6): 3,
        (5, 7): 4,
        (6, 0): 6,
        (6, 1): 5,
        (6, 2): 4,
        (6, 3): 3,
        (6, 4): 2,
        (6, 5): 3,
        (6, 7): 5,
        (7, 0): 7,
        (7, 1): 6,
        (7, 2): 5,
        (7, 3): 4,
        (7, 4): 3,
        (7, 5): 4,
        (7, 6): 5,
        (7, 7): 6,
    }
    assert expected_result == grid_map.compute_heuristics((4, 4))


@pytest.mark.parametrize(
    "start, goal, path",
    [
        ((0, 0), (0, 0), [(0, 0)]),
        (
            (0, 0),
            (7, 7),
            [
                (0, 0),
                (1, 0),
                (2, 0),
                (3, 0),
                (4, 0),
                (5, 0),
                (6, 0),
                (7, 0),
                (7, 1),
                (7, 2),
                (7, 3),
                (7, 4),
                (7, 5),
                (7, 6),
                (7, 7),
            ],
        ),
    ],
)
def test_shortest_path(grid_map, start, goal, path):
    assert path, len(path) - 1 == grid_map.shortest_path(start, goal)
